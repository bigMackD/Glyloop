@if (open()) {
  <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50" (click)="onCancel()" (keydown.escape)="onCancel()" role="button" tabindex="0" [attr.aria-label]="'Close dialog'">
    <div
      class="bg-gray-900 rounded-lg shadow-xl max-w-md w-full mx-4 border border-gray-800"
      (click)="$event.stopPropagation()"
      (keydown)="$event.stopPropagation()"
      role="dialog"
      aria-modal="true"
      aria-labelledby="unlink-dialog-title"
    >
      <!-- Header -->
      <div class="px-6 py-4 border-b border-gray-800">
        <h2 id="unlink-dialog-title" class="text-xl font-bold text-white" i18n="@@dexcom.unlink.title">
          Unlink Dexcom Account
        </h2>
      </div>

      <!-- Body -->
      <div class="px-6 py-4 space-y-4">
        <p class="text-gray-300" i18n="@@dexcom.unlink.confirmation">
          Are you sure you want to unlink your Dexcom account?
        </p>

        <div class="bg-blue-900/20 border border-blue-800 rounded-lg p-4">
          <p class="text-sm text-blue-200" i18n="@@dexcom.unlink.dataRetention">
            <strong>Note:</strong> Your previously synced glucose data will be retained. This action only removes the connection to Dexcom.
          </p>
        </div>

        <p class="text-sm text-gray-400" i18n="@@dexcom.unlink.canReconnect">
          You can reconnect your Dexcom account at any time.
        </p>
      </div>

      <!-- Footer -->
      <div class="px-6 py-4 bg-gray-800/50 rounded-b-lg flex justify-end gap-3">
        <button
          type="button"
          mat-stroked-button
          (click)="onCancel()"
          class="px-6"
        >
          <span i18n="@@common.cancel">Cancel</span>
        </button>
        <button
          type="button"
          mat-flat-button
          color="warn"
          (click)="onConfirm()"
          class="px-6"
        >
          <span i18n="@@dexcom.unlink.confirm">Unlink</span>
        </button>
      </div>
    </div>
  </div>
}
